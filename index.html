<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Instagram Username Checker — React</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script>tailwind.config={theme:{extend:{colors:{bg:'#0b0f14',card:'#111723',muted:'#93a3b8',accent:'#8b5cf6',ok:'#1fbf75',bad:'#f05d5e'},fontFamily:{sans:['Inter','ui-sans-serif','system-ui']}}}}</script>
<style>html,body{height:100%}body{background:linear-gradient(180deg,#0b0f14,#0e141b 30%,#0b0f14);color:#eaf0f7;font-family:Inter,ui-sans-serif,system-ui}a{color:inherit}</style>
</head>
<body>
<div id="root"></div>
<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script type="text/babel">
const {useState,useMemo} = React
function clsx(...v){return v.filter(Boolean).join(' ')}
function App(){
  const [text,setText]=useState('')
  const [proxy,setProxy]=useState('')
  const [busy,setBusy]=useState(false)
  const [status,setStatus]=useState('')
  const [stopOnError,setStopOnError]=useState(false)
  const [items,setItems]=useState([])
  const list=useMemo(()=>[...new Set(text.split(/\r?\n/).map(s=>s.trim().replace(/^@+/, '').toLowerCase()).filter(Boolean))].slice(0,100),[text])
  function makeUrl(u){if(!u)return null;return proxy?`${proxy}?u=${encodeURIComponent(`https://www.instagram.com/${u}/`)}`:`https://r.jina.ai/http://www.instagram.com/${u}/`}
  async function checkOne(u){
    const url=makeUrl(u);if(!url)return{username:u,error:'URL oluşturulamadı'}
    try{const res=await fetch(url,{method:'GET'});const txt=await res.text();let exists=false;let avatar='';let title='';let desc=''
      if(proxy){exists=res.status===200||res.status===301||res.status===302}else{const lower=txt.toLowerCase();const nf=['page not found','sorry, this page isn\'t available','bağlantı kırık','bulunamadı'];exists=!nf.some(sig=>lower.includes(sig))}
      const ogImg=txt.match(/<meta[^>]+property=["']og:image["'][^>]+content=["']([^"']+)["'][^>]*>/i)
      const ogTitle=txt.match(/<meta[^>]+property=["']og:title["'][^>]+content=["']([^"']+)["'][^>]*>/i)
      const ogDesc=txt.match(/<meta[^>]+property=["']og:description["'][^>]+content=["']([^"']+)["'][^>]*>/i)
      avatar=ogImg?ogImg[1]:'';title=ogTitle?ogTitle[1]:'';desc=ogDesc?ogDesc[1]:''
      return{username:u,exists,avatar,title,desc,status:res.status}
    }catch(e){return{username:u,error:e.message}}
  }
  async function run(){
    if(!list.length){setStatus('Önce en az bir kullanıcı adı yazın.');return}
    setItems([]);setBusy(true);setStatus('Kontrol ediliyor...')
    for(let i=0;i<list.length;i++){
      const r=await checkOne(list[i])
      setItems(prev=>[...prev,r])
      setStatus(`${i+1}/${list.length} tamamlandı`)
      if(r.error&&stopOnError)break
      await new Promise(res=>setTimeout(res,400))
    }
    setBusy(false);setStatus('Bitti')
  }
  function fillSamples(){setText('mebularts\ninstagram\nbu_isim_bosta_olabilir')}
  function copy(t){navigator.clipboard.writeText(t).then(()=>{setStatus(`Kopyalandı: ${t}`);setTimeout(()=>setStatus(''),1200)})}
  return(
    <div className="max-w-6xl mx-auto p-5">
      <header className="flex items-start justify-between gap-4 mb-4">
        <div>
          <h1 className="text-2xl sm:text-3xl font-bold">Instagram Username Checker</h1>
          <p className="text-muted mt-1">Çoklu kullanıcı adı gir; boşta mı dolu mu gör. Doluysa profil kartını çıkarır.</p>
        </div>
        <div className="px-3 py-1.5 rounded-full border border-white/10 text-sm text-muted">Statik · GitHub Pages</div>
      </header>
      <div className="bg-card/90 border border-white/10 rounded-2xl p-4">
        <div className="grid md:grid-cols-2 gap-4">
          <div>
            <label className="font-semibold mb-2 block">Kullanıcı adları</label>
            <textarea value={text} onChange={e=>setText(e.target.value)} placeholder={'mebularts\nmehmetbulat\nacil_isim'} className="w-full min-h-[140px] bg-[#0d141c] border border-white/10 rounded-xl p-3 outline-none"></textarea>
            <div className="flex gap-2 flex-wrap items-center mt-3">
              <button onClick={run} disabled={busy} className={clsx('px-4 py-2 rounded-xl font-semibold', busy?'bg-accent/60':'bg-accent hover:opacity-90')}>{busy?<span className="inline-block w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"></span>:'Kontrol Et'}</button>
              <button onClick={fillSamples} className="px-4 py-2 rounded-xl font-semibold bg-transparent border border-white/10">Örnekleri Doldur</button>
              <span className="text-sm text-muted">{status}</span>
            </div>
          </div>
          <div>
            <label className="font-semibold mb-2 block">Proxy URL (önerilir)</label>
            <input value={proxy} onChange={e=>setProxy(e.target.value)} placeholder="https://worker.example.workers.dev" className="w-full bg-[#0d141c] border border-white/10 rounded-xl p-3 outline-none" />
            <p className="text-sm text-muted mt-2">En doğru sonuç için ücretsiz Cloudflare Worker kullanın. URL formatı: https://subdomain.workers.dev/?u=https://www.instagram.com/USERNAME/</p>
            <details className="mt-2">
              <summary className="text-sm text-indigo-200 cursor-pointer">Cloudflare Worker</summary>
              <pre className="text-xs bg-[#0d141c] border border-white/10 rounded-xl p-3 whitespace-pre-wrap select-all">export default {
  async fetch(req) {
    const u = new URL(req.url).searchParams.get('u');
    if (!u) return new Response('missing u', { status: 400 });
    const r = await fetch(u, { redirect: 'follow' });
    const h = new Headers(r.headers); h.set('access-control-allow-origin', '*');
    return new Response(await r.arrayBuffer(), { status: r.status, headers: h });
  }
}</pre>
            </details>
            <label className="flex items-center gap-2 text-sm mt-3"><input type="checkbox" checked={stopOnError} onChange={e=>setStopOnError(e.target.checked)} /><span>Hata olursa dur</span></label>
          </div>
        </div>
      </div>
      <div className="bg-card/90 border border-white/10 rounded-2xl p-4 mt-4">
        <div className="flex items-center justify-between">
          <div className="text-sm text-muted">Sonuçlar</div>
          <div className="text-sm text-muted">{list.length?`${list.length} aday`:' '}</div>
        </div>
        <div className="grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mt-3" id="results">
          {items.map((r,i)=>r.error?(
            <div key={i} className="bg-[#0d141c] border border-white/10 rounded-xl p-3">
              <div className="flex items-center justify-between"><div className="font-bold">@{r.username}</div><span className="px-2 py-0.5 text-xs rounded-full border border-white/10 text-muted">Bilinmiyor</span></div>
              <div className="text-sm text-red-200 mt-2">Hata/Kısıt: {r.error}</div>
              <div className="text-xs text-muted mt-1">Proxy kurup tekrar deneyin.</div>
            </div>
          ):r.exists?(
            <div key={i} className="bg-[#0d141c] border border-white/10 rounded-xl p-3">
              <div className="flex items-start gap-3">
                <img src={r.avatar||''} alt="" className="w-12 h-12 rounded-full border border-white/10 object-cover" onError={e=>{e.currentTarget.style.visibility='hidden'}} />
                <div className="flex-1">
                  <div className="flex items-center gap-2 flex-wrap"><a href={`https://www.instagram.com/${r.username}/`} target="_blank" rel="noreferrer" className="font-bold hover:underline">@{r.username}</a><span className="px-2 py-0.5 text-xs rounded-full" style={{backgroundColor:'rgba(240,93,94,.08)',border:'1px solid rgba(240,93,94,.25)',color:'#ffd3d3'}}>Kullanımda</span></div>
                  <div className="text-sm text-muted mt-1">{(r.title||'').replace(/\| Instagram/g,'')}</div>
                  <div className="text-xs text-muted mt-1">{r.desc||''}</div>
                </div>
              </div>
            </div>
          ):(
            <div key={i} className="bg-[#0d141c] border border-white/10 rounded-xl p-3">
              <div className="flex items-center justify-between"><div className="font-bold">@{r.username}</div><span className="px-2 py-0.5 text-xs rounded-full" style={{backgroundColor:'rgba(31,191,117,.08)',border:'1px solid rgba(31,191,117,.25)',color:'#bcffe3'}}>Boşta</span></div>
              <div className="text-sm text-muted mt-2">Bu kullanıcı adı müsait. Hemen kapabilirsiniz.</div>
              <div className="flex gap-2 mt-2 flex-wrap"><button onClick={()=>copy(r.username)} className="px-3 py-1.5 rounded-lg border border-dashed border-white/10 text-sm">@{r.username} kopyala</button><a href="https://www.instagram.com/accounts/emailsignup/" target="_blank" rel="noreferrer" className="px-3 py-1.5 rounded-lg border border-white/10 text-sm">Instagram'a kaydol</a></div>
            </div>
          ))}
        </div>
      </div>
      <p className="text-sm text-muted mt-4">Proxy olmadan yapılan kontrol, okuyucu proxy üzerinden sezgisel tespit yapar ve yanlış negatif üretebilir.</p>
    </div>
  )
}
const root=ReactDOM.createRoot(document.getElementById('root'))
root.render(<App/>)
</script>
</body>
</html>
