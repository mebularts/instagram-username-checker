<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Instagram Username Checker — React</title>
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Ccircle cx='32' cy='32' r='32' fill='%238b5cf6'/%3E%3Ctext x='50%25' y='57%25' text-anchor='middle' font-size='34' fill='white'%3Ei%3C/text%3E%3C/svg%3E">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script>tailwind.config={darkMode:'class',theme:{extend:{colors:{card:'#111723',accent:'#8b5cf6'},fontFamily:{sans:['Inter','ui-sans-serif','system-ui']}}}}</script>
<style>html,body{height:100%}body{background:linear-gradient(180deg,#0b0f14,#0e141b 30%,#0b0f14);color:#eaf0f7;font-family:Inter,ui-sans-serif,system-ui}a{color:inherit}</style>
</head>
<body class="dark">
<div id="root"></div>
<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<script type="text/babel">
const {useState,useMemo,useEffect} = React
function clsx(...v){return v.filter(Boolean).join(' ')}
const I18N={
  tr:{title:'Instagram Username Checker',subtitle:'Çoklu kullanıcı adı gir; boşta mı dolu mu gör. Doluysa profil kartı çıkar.',proxyLbl:'Proxy URL (önerilir)',proxyHint:'En doğru sonuç için ücretsiz Cloudflare Worker kullanın. Format: https://subdomain.workers.dev/?u=https://www.instagram.com/USERNAME/',worker:'Cloudflare Worker',workerCode:`export default {
  async fetch(req) {
    const u = new URL(req.url).searchParams.get('u');
    if (!u) return new Response('missing u', { status: 400 });
    const r = await fetch(u, { redirect: 'follow' });
    const h = new Headers(r.headers); h.set('access-control-allow-origin', '*');
    return new Response(await r.arrayBuffer(), { status: r.status, headers: h });
  }
}`,stopOnError:'Hata olursa dur',usernames:'Kullanıcı adları',placeholder:'mebularts\ninstagram\nbu_isim_bosta_olabilir',check:'Kontrol Et',checking:'Kontrol ediliyor...',samples:'Örnekleri Doldur',results:'Sonuçlar',candidates:'aday',unknown:'Bilinmiyor',error:'Hata/Kısıt',useProxy:'Proxy kurup tekrar deneyin.',taken:'Kullanımda',available:'Boşta',availableMsg:'Bu kullanıcı adı müsait. Hemen kapabilirsiniz.',copy:'kopyala',signup:"Instagram'a kaydol",statusDone:'Bitti',needOne:'Önce en az bir kullanıcı adı yazın.',genTitle:'Varyasyon Üretici',baseLbl:'Temel isim',genBtn:'Varyasyon üret',count:'Adet',theme:'Tema',light:'Açık',dark:'Koyu',lang:'Dil',tr:'TR',en:'EN'},
  en:{title:'Instagram Username Checker',subtitle:'Enter multiple usernames; see availability. If taken, shows a profile card.',proxyLbl:'Proxy URL (recommended)',proxyHint:'For best accuracy use a free Cloudflare Worker. Format: https://subdomain.workers.dev/?u=https://www.instagram.com/USERNAME/',worker:'Cloudflare Worker',workerCode:`export default {
  async fetch(req) {
    const u = new URL(req.url).searchParams.get('u');
    if (!u) return new Response('missing u', { status: 400 });
    const r = await fetch(u, { redirect: 'follow' });
    const h = new Headers(r.headers); h.set('access-control-allow-origin', '*');
    return new Response(await r.arrayBuffer(), { status: r.status, headers: h });
  }
}`,stopOnError:'Stop on error',usernames:'Usernames',placeholder:'mebularts\ninstagram\nthis_may_be_free',check:'Check',checking:'Checking...',samples:'Fill samples',results:'Results',candidates:'candidates',unknown:'Unknown',error:'Error/Constraint',useProxy:'Set up the proxy and try again.',taken:'Taken',available:'Available',availableMsg:'This username is available. Grab it now.',copy:'copy',signup:'Sign up on Instagram',statusDone:'Done',needOne:'Enter at least one username first.',genTitle:'Variation Generator',baseLbl:'Base name',genBtn:'Generate variations',count:'Count',theme:'Theme',light:'Light',dark:'Dark',lang:'Language',tr:'TR',en:'EN'}
}
function genVariations(base,n=20){
  base=(base||'').trim().toLowerCase().replace(/\s+/g,''); if(!base)return[]
  const prefixes=['get','its','real','the','hey','try','go','my','iam','mr','ms']
  const suffixes=['app','dev','lab','studio','hq','pro','official','co','inc','tv','tr']
  const seps=['','_','.']; const nums=['','1','01','10','123','x','xx']
  const leet=v=>v.replace(/a/g,'4').replace(/e/g,'3').replace(/i/g,'1').replace(/o/g,'0').replace(/s/g,'5')
  const out=new Set()
  for(const p of prefixes){for(const s of seps){for(const n1 of nums){out.add(p+s+base+n1)}}}
  for(const sfx of suffixes){for(const s of seps){for(const n1 of nums){out.add(base+s+sfx+n1)}}}
  out.add(base); out.add(leet(base))
  return [...out].slice(0,n)
}
function App(){
  const [lang,setLang]=useState('tr'); const t=I18N[lang]
  const [theme,setTheme]=useState('dark')
  const [text,setText]=useState('')
  const [proxy,setProxy]=useState('')
  const [busy,setBusy]=useState(false)
  const [status,setStatus]=useState('')
  const [stopOnError,setStopOnError]=useState(false)
  const [items,setItems]=useState([])
  const [base,setBase]=useState('mebularts')
  const [count,setCount]=useState(20)
  useEffect(()=>{document.body.classList.toggle('dark',theme==='dark')},[theme])
  const list=useMemo(()=>[...new Set(text.split(/\r?\n/).map(s=>s.trim().replace(/^@+/, '').toLowerCase()).filter(Boolean))].slice(0,200),[text])
  function makeUrl(u){if(!u)return null;return proxy?`${proxy}?u=${encodeURIComponent(`https://www.instagram.com/${u}/`)}`:`https://r.jina.ai/http://www.instagram.com/${u}/`}
  async function checkOne(u){
    const url=makeUrl(u); if(!url) return {username:u,error:'URL'}
    try{
      const res=await fetch(url); const txt=await res.text()
      let exists=false; let avatar='',title='',desc=''
      if(proxy){exists=res.status===200||res.status===301||res.status===302}
      else{const lower=txt.toLowerCase(); const nf=['page not found','sorry, this page isn\\'t available','bulunamadı']; exists=!nf.some(sig=>lower.includes(sig))}
      const ogImg=txt.match(/<meta[^>]+property=["']og:image["'][^>]+content=["']([^"']+)["'][^>]*>/i)
      const ogTitle=txt.match(/<meta[^>]+property=["']og:title["'][^>]+content=["']([^"']+)["'][^>]*>/i)
      const ogDesc=txt.match(/<meta[^>]+property=["']og:description["'][^>]+content=["']([^"']+)["'][^>]*>/i)
      avatar=ogImg?ogImg[1]:''; title=ogTitle?ogTitle[1]:''; desc=ogDesc?ogDesc[1]:''
      return {username:u,exists,avatar,title,desc,status:res.status}
    }catch(e){return {username:u,error:e.message}}
  }
  async function run(){
    if(!list.length){setStatus(t.needOne);return}
    setItems([]); setBusy(true); setStatus(t.checking)
    for(let i=0;i<list.length;i++){
      const r=await checkOne(list[i]); setItems(prev=>[...prev,r]); setStatus(`${i+1}/${list.length}`)
      if(r.error&&stopOnError) break
      await new Promise(res=>setTimeout(res,300))
    }
    setBusy(false); setStatus(t.statusDone)
  }
  function fillSamples(){setText(lang==='tr'?'mebularts\ninstagram\nbu_isim_bosta_olabilir':'mebularts\ninstagram\nthis_may_be_free')}
  function copyTok(tk){navigator.clipboard.writeText(tk).then(()=>{setStatus(tk); setTimeout(()=>setStatus(''),1200)})}
  function generate(){const vars=genVariations(base,Number(count)||20); const joined=vars.join('\n'); setText(prev=>prev?prev+'\n'+joined:joined)}
  return (
    <div className="max-w-6xl mx-auto p-5">
      <header className="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4">
        <div>
          <h1 className="text-2xl sm:text-3xl font-bold">{t.title}</h1>
          <p className="text-violet-200/80 mt-1">{t.subtitle}</p>
        </div>
        <div className="flex items-center gap-2">
          <div className="px-3 py-1.5 rounded-full border border-white/10 text-sm text-white/70">GitHub Pages</div>
          <div className="flex items-center gap-1 text-sm">
            <span>{t.lang}</span>
            <select value={lang} onChange={e=>setLang(e.target.value)} className="bg-[#0d141c] border border-white/10 rounded-lg px-2 py-1 outline-none">
              <option value="tr">{t.tr}</option>
              <option value="en">{t.en}</option>
            </select>
          </div>
          <div className="flex items-center gap-1 text-sm">
            <span>{t.theme}</span>
            <select value={theme} onChange={e=>setTheme(e.target.value)} className="bg-[#0d141c] border border-white/10 rounded-lg px-2 py-1 outline-none">
              <option value="dark">{t.dark}</option>
              <option value="light">{t.light}</option>
            </select>
          </div>
        </div>
      </header>

      <div className="bg-card/90 border border-white/10 rounded-2xl p-4">
        <div className="grid md:grid-cols-2 gap-4">
          <div>
            <label className="font-semibold mb-2 block">{t.usernames}</label>
            <textarea value={text} onChange={e=>setText(e.target.value)} placeholder={t.placeholder} className="w-full min-h-[160px] bg-[#0d141c] border border-white/10 rounded-xl p-3 outline-none"></textarea>
            <div className="flex gap-2 flex-wrap items-center mt-3">
              <button onClick={run} disabled={busy} className={clsx('px-4 py-2 rounded-xl font-semibold', busy?'bg-accent/60':'bg-accent hover:opacity-90')}>{busy?<span className="inline-block w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"></span>:t.check}</button>
              <button onClick={fillSamples} className="px-4 py-2 rounded-xl font-semibold bg-transparent border border-white/10">{t.samples}</button>
              <span className="text-sm text-white/70">{status}</span>
            </div>
          </div>
          <div>
            <label className="font-semibold mb-2 block">{t.proxyLbl}</label>
            <input value={proxy} onChange={e=>setProxy(e.target.value)} placeholder="https://subdomain.workers.dev" className="w-full bg-[#0d141c] border border-white/10 rounded-xl p-3 outline-none"/>
            <p className="text-sm text-white/70 mt-2">{t.proxyHint}</p>
            <details className="mt-2">
              <summary className="text-sm text-indigo-200 cursor-pointer">{t.worker}</summary>
              <pre className="text-xs bg-[#0d141c] border border-white/10 rounded-xl p-3 whitespace-pre-wrap select-all">{t.workerCode}</pre>
            </details>
            <label className="flex items-center gap-2 text-sm mt-3"><input type="checkbox" checked={stopOnError} onChange={e=>setStopOnError(e.target.checked)}/><span>{t.stopOnError}</span></label>
          </div>
        </div>
      </div>

      <div className="bg-card/90 border border-white/10 rounded-2xl p-4 mt-4">
        <div className="flex items-center justify-between">
          <div className="text-sm text-white/70">{t.results}</div>
          <div className="text-sm text-white/70">{list.length?`${list.length} ${t.candidates}`:' '}</div>
        </div>
        <div className="grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mt-3">
          {items.map((r,i)=>r.error?(
            <div key={i} className="bg-[#0d141c] border border-white/10 rounded-xl p-3">
              <div className="flex items-center justify-between"><div className="font-bold">@{r.username}</div><span className="px-2 py-0.5 text-xs rounded-full border border-white/10 text-white/70">{t.unknown}</span></div>
              <div className="text-sm text-red-200 mt-2">{t.error}: {r.error}</div>
              <div className="text-xs text-white/60 mt-1">{t.useProxy}</div>
            </div>
          ):r.exists?(
            <div key={i} className="bg-[#0d141c] border border-white/10 rounded-xl p-3">
              <div className="flex items-start gap-3">
                <img src={r.avatar||''} alt="" className="w-12 h-12 rounded-full border border-white/10 object-cover" onError={e=>{e.currentTarget.style.visibility='hidden'}}/>
                <div className="flex-1">
                  <div className="flex items-center gap-2 flex-wrap">
                    <a href={`https://www.instagram.com/${r.username}/`} target="_blank" rel="noreferrer" className="font-bold hover:underline">@{r.username}</a>
                    <span className="px-2 py-0.5 text-xs rounded-full" style={{backgroundColor:'rgba(240,93,94,.08)',border:'1px solid rgba(240,93,94,.25)',color:'#ffd3d3'}}>{t.taken}</span>
                  </div>
                  <div className="text-sm text-white/70 mt-1">{(r.title||'').replace(/\| Instagram/g,'')}</div>
                  <div className="text-xs text-white/60 mt-1">{r.desc||''}</div>
                </div>
              </div>
            </div>
          ):(
            <div key={i} className="bg-[#0d141c] border border-white/10 rounded-xl p-3">
              <div className="flex items-center justify-between">
                <div className="font-bold">@{r.username}</div>
                <span className="px-2 py-0.5 text-xs rounded-full" style={{backgroundColor:'rgba(31,191,117,.08)',border:'1px solid rgba(31,191,117,.25)',color:'#bcffe3'}}>{t.available}</span>
              </div>
              <div className="text-sm text-white/70 mt-2">{t.availableMsg}</div>
              <div className="flex gap-2 mt-2 flex-wrap">
                <button onClick={()=>copyTok(r.username)} className="px-3 py-1.5 rounded-lg border border-dashed border-white/10 text-sm">@{r.username} {t.copy}</button>
                <a href="https://www.instagram.com/accounts/emailsignup/" target="_blank" rel="noreferrer" className="px-3 py-1.5 rounded-lg border border-white/10 text-sm">{t.signup}</a>
              </div>
            </div>
          ))}
        </div>
      </div>

      <div className="bg-card/90 border border-white/10 rounded-2xl p-4 mt-4">
        <div className="flex items-center justify-between mb-3">
          <div className="font-semibold">{t.genTitle}</div>
          <div className="text-sm text-white/70">{t.count}</div>
        </div>
        <div className="grid md:grid-cols-3 gap-3">
          <input value={base} onChange={e=>setBase(e.target.value)} placeholder="mebularts" className="bg-[#0d141c] border border-white/10 rounded-xl p-3 outline-none"/>
          <input value={count} onChange={e=>setCount(e.target.value)} type="number" min="5" max="200" className="bg-[#0d141c] border border-white/10 rounded-xl p-3 outline-none"/>
          <div className="flex gap-2">
            <button onClick={generate} className="px-4 py-2 rounded-xl font-semibold bg-accent hover:opacity-90 flex-1">{t.genBtn}</button>
            <button onClick={()=>setText('')} className="px-4 py-2 rounded-xl font-semibold bg-transparent border border-white/10">Clear</button>
          </div>
        </div>
      </div>

      <p className="text-sm text-white/70 mt-4">r.jina.ai üzerinden yapılan kontrol sezgisel tespit üretir ve yanlış negatif verebilir. En doğru sonuç için üstteki Worker'ı kurun.</p>
    </div>
  )
}
const root=ReactDOM.createRoot(document.getElementById('root'))
root.render(<App/>)
</script>
</body>
</html>
